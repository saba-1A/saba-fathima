<div class="v2-desktop-container">
  <div class="v2-desktop-grid">
    {% for i in (1..6) %}
      {% capture img_key %}wide_img_{{ i }}{% endcapture %}
      {% capture prod_key %}prod_{{ i }}{% endcapture %}

      {% assign current_image = section.settings[img_key] %}
      {% assign current_product = all_products[section.settings[prod_key]] %}

      <!-- 1. The Image Item -->
      <!-- This takes up the grid slot -->
      <div class="v2-grid-item">
        {% if current_image != blank %}
          <img 
            src="{{ current_image | image_url: width: 2000 }}" 
            alt="{{ current_product.title | default: 'Product Image' }}"
            loading="lazy"
          >
        {% else %}
          {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
        {% endif %}
      </div>

      <!-- 2. The Hotspot Button -->
      <!-- Positioned absolutely over the grid using .pos-{{ i }} class -->
      {% if current_product != blank %}
        <div class="v2-hotspot js-open-popup pos-{{ i }}" 
             data-product-json='{{ current_product | json | escape }}'>
          <!-- Vector Icon updated to 8.5px to match Figma Vector screenshot -->
          <svg width="8.5" height="8.5" viewBox="0 0 9 9" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M4.5 0V9M0 4.5H9" stroke="black" stroke-width="1.5"/>
          </svg>
        </div>
      {% endif %}

    {% endfor %}
  </div>
</div>

<style>
  /* --- 1. Main Wrapper --- */
  .v2-desktop-container {
    width: 100%;
    max-width: 3840px; 
    margin: 0 auto;
    overflow: hidden;
  }

  /* --- 2. Grid Layout --- */
  .v2-desktop-grid {
    position: relative; /* Essential for absolute button positioning */
    display: grid;
    /* 3 Columns based on image size */
    grid-template-columns: repeat(3, 919.78px);
    grid-template-rows: repeat(2, 943.14px);
    
    /* Exact Width & Gap from  */
    width: 2844.3px; 
    gap: 42.48px; 
    
    margin: 0 auto;
    justify-content: center;
  }

  /* --- 3. Image Item --- */
  .v2-grid-item {
    width: 919.78px;   
    height: 943.14px;  
    overflow: hidden;
    background: #f4f4f4;
  }

  .v2-grid-item img,
  .v2-grid-item svg.placeholder-svg {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    fill: #ccc;
  }

  /* --- 4. Hotspot Button Style  --- */
  .v2-hotspot {
    position: absolute;
    z-index: 10;
    cursor: pointer;

    /* Exact Dimensions */
    width: 17.97px;
    height: 17.97px;

    /* Exact Style */
    background: rgba(248, 248, 248, 0.9);
    border: 3.19px solid rgba(0, 0, 0, 1);
    border-radius: 50%; 
    box-sizing: border-box; /* Ensures border doesn't expand size */

    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.3s ease;
  }

  .v2-hotspot:hover {
    transform: scale(1.3);
  }

  /* --- 5. EXACT COORDINATES --- */
  
  /* Product 1  */
  .v2-hotspot.pos-1 {
    top: 550.17px;
    left: 173.12px;
  }

  /* Product 2  */
  .v2-hotspot.pos-2 {
    top: 471.57px;
    left: 1422.15px;
  }

  /* Product 3  */
  .v2-hotspot.pos-3 {
    top: 174.18px;
    left: 2183.68px;
  }

  /* Product 4  */
  .v2-hotspot.pos-4 {
    top: 1136.45px;
    left: 345.18px;
  }

  /* Product 5 */
  .v2-hotspot.pos-5 {
    top: 1206.54px;
    left: 1118.39px;
  }

  /* Product 6  */
  .v2-hotspot.pos-6 {
    top: 1535.8px;
    left: 2013.74px;
  }
</style>